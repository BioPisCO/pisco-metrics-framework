<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: server/server.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: server/server.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>var express = require('express')
	,bodyParser = require('body-parser');
var IR = require('../lib/interfaceregistry')
	,interfaceregistry = new IR();
	
var app = express();

app.use(express.static("../public")); //make accesible public directory and its sub directories
app.set('views',  '../views'); //make accesible views

app.disable('etag');

var hbs = require('hbs');//Handlebars
app.set('view engine', 'html'); //we can tell Express to treat HTML files as dynamic by using the "view engine"
app.engine('html', hbs.__express);

app.use(bodyParser.json());
app.use(bodyParser.urlencoded({ // support URL-encoded bodies
  extended: true
}));

/**
  * Express: Fast, unopinionated, minimalist web framework for Node.js 
  * @external express
 */


 /** Register a new component and shows all the components registered */
app.get('/register', function(req, res) {
	interfaceregistry.createregistryHTML();
	res.render('registry.html');
});

/** Registry component acction sent from /register */
app.post('/registercomponent', function(req, res) {
  //res.send('You sent the URL "' + req.body.schema + '".');
  interfaceregistry.register(req.body.schema, function (response){
  	if(response) { res.redirect('/register'); }
  	else  {res.send('There was a problem with the component registration.');}
  });
});

/**  Init server and listen in port */
app.listen(8082, function() {
  console.log('Server running at http://127.0.0.1:8082');
})


</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-lib_RegistryInterface.html">lib/RegistryInterface</a></li><li><a href="module-lib_Schema.html">lib/Schema</a></li></ul><h3>Externals</h3><ul><li><a href="external-express.html">express</a></li></ul><h3>Classes</h3><ul><li><a href="RegistryInterface.html">RegistryInterface</a></li><li><a href="Schema.html">Schema</a></li></ul><h3>Global</h3><ul><li><a href="global.html#alphanum">alphanum</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.0-dev</a> on Mon Oct 03 2016 09:13:12 GMT+0100 (BST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
